<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Notes App</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
  </head>
  <body>
    <div class="container">
      <h1>Notes App</h1>
      <form method="POST" action="/notes">
        <label for="title">Title</label>
        <input type="text" id="title" name="title" placeholder="Title" required />
        <label for="content">Content</label>
        <textarea id="content" name="content" placeholder="Content" required></textarea>
        <label for="email">Email</label>
        <input type="email" id="email" name="email" placeholder="Email" required />
        <button type="submit">Add Note</button>
      </form>
      <hr />
      <table>
        <thead>
          <tr>
            <th>Title</th>
            <th>Content</th>
            <th>Email</th>
            <th>Created At</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
          <% notes.forEach((note) => { %>
            <tr>
              <td><%= note.title %></td>
              <td><%= note.content %></td>
              <td><%= note.email %></td>
              <td><%= note.createdAt.toDateString() %></td>
              <td>
                <form method="POST" action="/notes/<%= note._id %>?_method=DELETE">
                  <button type="submit">Delete</button>
                </form>
              </td>
            </tr>
          <% }); %>
        </tbody>
      </table>
      <hr />
      <form method="POST" action="/notes/delete">
        <label for="email">Delete all notes for Email:</label>
        <input type="email" id="email" name="email" placeholder="Email" required />
        <button type="submit">Delete All Notes</button>
      </form>
    </div>
  </body>
</html>
